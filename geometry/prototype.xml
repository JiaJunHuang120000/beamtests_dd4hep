<lccdd>
  <comment>
    ///////////////////////////////////////////////////////////
    // HCAL
    // Fe + Scintillator (Fe/Sci) prototype
    ///////////////////////////////////////////////////////////
  </comment>        
 <define>
    <constant name="Pi" value="3.14159265359"/>
    <constant name="world_side" value="30*m"/>
    <constant name="world_x" value="world_side"/>
    <constant name="world_y" value="world_side"/>
    <constant name="world_z" value="100*m"/>
      <constant name="tracker_region_zmax" value="10*m"/>
    <constant name="tracker_region_rmax" value="1*m"/>

  </define>
<includes>
    <gdmlFile ref="compact/elements.xml"/>
    <gdmlFile ref="compact/materials.xml"/>
</includes>

  <detectors>
    <detector id="1" name="HCAL1" type="Polyhedra_ZDC_Sampling" readout="HCALHits" vis="GreenVis">
      <position x="0*cm" y="0*cm" z="500*cm"/>
      <rotation x="0" y="0" z="0"/>
      <dimensions x="9.48*cm" y="9.48*cm" z="11.28*cm"/>
      <layer repeat="4" thickness="11.28*cm">
        <slice name="Absorber" material="Steel235"    thickness="2*cm"  vis="AnlGray" sensitive="false"/>
        <slice name="Air_gap"  material="Air"         thickness="0.52*cm" sensitive="false"/>
	<Box   name="Scint"    material="Polystyrene" x="4.74*cm" y="4.74*cm" thickness="0.3*cm" x_offset=" 2.37*cm" y_offset=" 2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<Box   name="Scint"    material="Polystyrene" x="4.74*cm" y="4.74*cm" thickness="0.3*cm" x_offset="-2.37*cm" y_offset=" 2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<Box   name="Scint"    material="Polystyrene" x="4.74*cm" y="4.74*cm" thickness="0.3*cm" x_offset="-2.37*cm" y_offset="-2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<Box   name="Scint"    material="Polystyrene" x="4.74*cm" y="4.74*cm" thickness="0.3*cm" x_offset=" 2.37*cm" y_offset="-2.37*cm"	   vis="AnlOrange" sensitive="true"/>
      </layer>
    </detector>

    <detector id="2" name="HCAL2" type="Polyhedra_ZDC_Sampling" readout="HCALHits" vis="GreenVis">
      <position x="0*cm" y="0*cm" z="511.28*cm"/>
      <rotation x="0" y="0" z="0"/>
      <dimensions x="9.48*cm" y="9.48*cm" z="11.28*cm"/>
      <layer repeat="6" thickness="16.92*cm">
        <slice name="Absorber" material="Steel235"    thickness="2*cm"  vis="AnlGray" sensitive="false"/>
        <slice name="Air_gap"  material="Air"         thickness="0.52*cm" sensitive="false"/>
	<PolyhedraRegular name="Scint" material="Polystyrene" numsides="6" rmin="0*cm" rmax="2*cm" thickness="0.3*cm" x_offset=" 2.37*cm" y_offset=" 2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<PolyhedraRegular name="Scint" material="Polystyrene" numsides="6" rmin="0*cm" rmax="2*cm" thickness="0.3*cm" x_offset="-2.37*cm" y_offset=" 2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<PolyhedraRegular name="Scint" material="Polystyrene" numsides="6" rmin="0*cm" rmax="2*cm" thickness="0.3*cm" x_offset="-2.37*cm" y_offset="-2.37*cm" count="0" vis="AnlOrange" sensitive="true"/>
      	<PolyhedraRegular name="Scint" material="Polystyrene" numsides="6" rmin="0*cm" rmax="2*cm" thickness="0.3*cm" x_offset=" 2.37*cm" y_offset="-2.37*cm"		vis="AnlOrange" sensitive="true"/>
      </layer>
    </detector>
  </detectors>

  <readouts>
    <readout name="HCALHits">
      <segmentation type="CartesianGridXY" grid_size_x="4.74 * cm" grid_size_y="4.74 * cm"/>
      <id>system:8,layer:12,slice:12,x:32:-16,y:-16</id>  
    </readout>
  </readouts>
</lccdd>
